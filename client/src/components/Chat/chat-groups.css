/* Styles for groups section in ChatBox */
.groups-section {
  padding: 12px;
  border-top: 1px solid #eef2f7;
  background: linear-gradient(180deg, #ffffff 0%, #fbfbfd 100%);
}
.groups-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 10px;
  gap: 12px;
}
.groups-header-left { flex: 1 1 auto; display:flex; align-items:center; }
.groups-header-center { flex: 0 0 auto; display:flex; align-items:center; justify-content:center; }
.groups-header-actions { display:flex; align-items:center; gap:8px; flex: 0 0 auto; }
.groups-header h3 {
  margin: 0;
  font-size: 14px;
  font-weight: 700;
  color: #374151;
}
.btn-create-group {
  background: #6b46ff;
  color: #fff;
  border: none;
  padding: 6px 10px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  box-shadow: 0 4px 10px rgba(107,70,255,0.12);
}
.btn-create-group:hover { filter: brightness(0.95); }
.groups-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
  /* reduce default height so groups area doesn't take too much vertical space */
  max-height: 22vh;
  overflow: auto;
  padding-right: 6px;
  transition: max-height 260ms ease, padding 220ms ease;
}

/* collapse/expand behavior */
.groups-section.collapsed .groups-list {
  max-height: 0;
  padding-top: 0;
  padding-bottom: 0;
  overflow: hidden;
}

.btn-collapse {
  background: transparent;
  border: none;
  width: 64px;
  height: 64px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  border-radius: 14px;
  transition: background 150ms ease, transform 120ms ease;
}
.btn-collapse:hover { background: rgba(15,23,42,0.04); }
.btn-collapse:active { transform: translateY(1px); }
/* nicer chevron icon (SVG) */
.btn-collapse .arrow { width: 34px; height: 34px; display: block; }
.btn-collapse .arrow path { stroke: #374151; stroke-width: 3; stroke-linecap: round; stroke-linejoin: round; }
.btn-collapse .arrow { transition: transform 220ms cubic-bezier(.2,.9,.2,1); transform-origin: 50% 50%; }
.btn-collapse.collapsed .arrow,
.groups-section.collapsed .btn-collapse .arrow { transform: rotate(180deg); }

/* Ensure header title has left padding so centered arrow won't visually overlap */
.groups-header h3 { padding-left: 6px; }

/* Make sure the create button stays on the right and not blocked by the centered arrow */
.groups-header-actions { display:flex; align-items:center; gap:8px; position:relative; z-index:3; }
.group-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px;
  border-radius: 8px;
  transition: background 0.15s, transform 0.08s;
}
.group-item:hover { background: #f8fafc; transform: translateY(-1px); }
.group-item.active { background: linear-gradient(90deg,#eef2ff,#f3f4ff); box-shadow: inset 0 0 0 1px rgba(99,102,241,0.06); }
.group-item .group-avatar {
  width: 36px; height: 36px; border-radius: 8px; overflow: hidden; flex: 0 0 36px; background: #e9e7ff; display:flex; align-items:center; justify-content:center; color:#4c1d95; font-weight:700;
}
.group-item .group-name {
  flex: 1; font-size: 14px; color: #111827; font-weight:600; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.group-item .group-actions { display:flex; gap:6px; align-items:center; }
.btn-group-members, .btn-manage { background: #fff; border: 1px solid #e6e9ef; padding: 6px 8px; border-radius: 6px; cursor:pointer; font-size:13px; }
.btn-group-members:hover, .btn-manage:hover { background: #f3f4f6; }
@media (max-width: 900px) {
  .groups-list { max-height: 18vh; }
}

/* Allow slightly taller list on very large screens */
@media (min-height: 1000px) {
  .groups-list { max-height: 28vh; }
}

aside.chat-sidebar.conversation-list {
  width: 320px;
  height: 712px;
}
